name: stepin
services:
  app:
    image: allape/stepin:latest
#    build:
#      dockerfile: Dockerfile
    restart: unless-stopped
    volumes:
      - ./database:/app/database
    #      - ./ui/dist:/app/assets
    ports:
      - "8080:8080"
    environment:
      http_proxy: http://host.docker.internal:1080
      https_proxy: http://host.docker.internal:1080
      no_proxy: localhost,127.0.0.1,192.*.*.*,172.*.*.*
      GIN_MODE: release
      STEPIN_MODE: release
      STEPIN_LISTEN: ":8080"
      STEPIN_ASSETS_FOLDER: "/app/assets"
      STEPIN_DATABASE_FILENAME: "/app/database/data.db"
      STEPIN_DATABASE_SALT: ""
      STEPIN_DATABASE_PASSWORD: ""
      STEPIN_ROOT_CA_PASSWORD: "123456"
      STEPIN_INTERMEDIATE_CA_PASSWORD: "456789"
